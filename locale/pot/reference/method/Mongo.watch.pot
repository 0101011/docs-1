# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2008-2019
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 4.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-03-19 23:38-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/reference/method/Mongo.watch.txt:3
msgid "Mongo.watch()"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:14
msgid "Definition"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:20
msgid "Requires ``featureCompatibilityVersion`` (fCV) set to ``\"4.0\"`` or greater. For more information on fCV, see :dbcommand:`setFeatureCompatibilityVersion`."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:24
msgid "Opens a :ref:`change stream cursor <changeStreams>` for a replica set or a sharded cluster to report on all its non-``system`` collections across its databases, with the exception of the ``admin``, ``local``, and the ``config`` databases."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:7
msgid "Parameter"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:9
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:9
msgid "Type"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:11
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:11
msgid "Description"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:13
msgid "``pipeline``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:15
msgid "array"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:17
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:48
msgid "A sequence of one or more of the following aggregation stages:"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:19
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:50
msgid ":pipeline:`$match`"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:20
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:51
msgid ":pipeline:`$project`"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:21
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:52
msgid ":pipeline:`$addFields`"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:22
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:53
msgid ":pipeline:`$replaceRoot`"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:23
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:54
msgid ":pipeline:`$redact`"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:25
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:56
msgid "See :doc:`/aggregation` for complete documentation on the aggregation framework."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:30
msgid "``options``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:32
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:15
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:70
msgid "document"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:34
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:63
msgid "Optional. Additional options that modify the behavior of :method:`Mongo.watch()`."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:37
#: ../source/includes/apiargs/method-Mongo.watch-param.rst:66
msgid "You must pass an empty array ``[]`` to the ``pipeline`` parameter if you are not specifying a pipeline but are passing the ``options`` document."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:0
msgid "param array pipeline"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-param.rst:0
msgid "param document options"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:31
msgid "The ``options`` document can contain the following fields and values:"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:7
msgid "Field"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:13
msgid "``resumeAfter``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:17
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:96
msgid "Optional. Directs :method:`Mongo.watch()` to attempt resuming notifications starting after the operation specified in the resume token."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:21
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:100
msgid "Each change stream event document includes a resume token as the ``_id`` field. Pass the *entire* ``_id`` field of the change event document that represents the operation you want to resume after."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:25
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:104
msgid "``resumeAfter`` is mutually exclusive with ``startAtOperationTime``."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:29
msgid "``fullDocument``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:31
msgid "string"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:33
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:110
msgid "Optional. By default, :method:`Mongo.watch()` returns the delta of those fields modified by an update operation, instead of the entire updated document."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:37
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:114
msgid "Set ``fullDocument`` to ``\"updateLookup\"`` to direct :method:`Mongo.watch()` to look up the most current majority-committed version of the updated document. :method:`Mongo.watch()` returns a ``fullDocument`` field with the document lookup in addition to the ``updateDescription`` delta."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:45
msgid "``batchSize``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:47
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:58
msgid "int"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:49
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:124
msgid "Optional. Specifies the maximum number of change events to return in each batch of the response from the MongoDB cluster."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:52
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:127
msgid "Has the same functionality as :method:`cursor.batchSize()`."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:56
msgid "``maxAwaitTimeMS``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:60
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:133
msgid "Optional. The maximum amount of time in milliseconds the server waits for new data changes to report to the change stream cursor before returning an empty batch."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:64
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:137
msgid "Defaults to ``1000`` milliseconds."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:68
msgid "``collation``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:72
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:143
msgid "Optional. Pass a :ref:`collation document <collation-document-fields>` to specify a :doc:`collation </reference/collation>` for the change stream cursor."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:78
msgid "``startAtOperationTime``"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:80
msgid "Timestamp"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:82
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:151
msgid "Optional. The starting point for the change stream. If the specified starting point is in the past, it must be in the time range of the oplog. To check the time range of the oplog, see :method:`rs.printReplicationInfo()`."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:87
#: ../source/includes/apiargs/method-Mongo.watch-options.rst:156
msgid "``startAtOperationTime`` is mutually exclusive with ``resumeAfter``."
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:0
msgid "field document resumeAfter"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:0
msgid "field string fullDocument"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:0
msgid "field int batchSize"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:0
msgid "field int maxAwaitTimeMS"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:0
msgid "field document collation"
msgstr ""

#: ../source/includes/apiargs/method-Mongo.watch-options.rst:0
msgid "field Timestamp startAtOperationTime"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:0
msgid "Returns"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:35
msgid "A :term:`cursor` over the change event documents. See :doc:`/reference/change-events` for examples of change event documents."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:40
msgid ":method:`db.collection.watch()` and :method:`db.watch()`"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:43
msgid "Behavior"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:45
msgid ":method:`Mongo.watch()` only notifies on data changes that have persisted to a majority of data-bearing members."
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:2
msgid "The :ref:`change stream cursor <changeStreams>` remains open until one of the following occurs:"
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:5
msgid "The cursor is explicitly closed."
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:7
msgid "An :ref:`invalidate event <change-event-invalidate>` occurs; for example, a collection drop or rename."
msgstr ""

#: ../source/includes/extracts/changestream-cursor-open.rst:10
msgid "The connection to the MongoDB deployment is closed."
msgstr ""

#: ../source/includes/extracts/changestream-remove-shard.rst:2
#: ../source/includes/extracts/changestream-remove-shard.rst:2
msgid "If the deployment is a sharded cluster, a shard removal may cause an open change stream cursor to close, and the closed change stream cursor may not be fully resumable."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:50
msgid ":method:`Mongo.watch()` is available for replica sets and sharded clusters:"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:53
msgid "For a replica set, you can issue :method:`Mongo.watch()` on any data-bearing member."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:56
msgid "For a sharded cluster, you must issue :method:`Mongo.watch()` on a :binary:`~bin.mongos` instance."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:59
msgid "You can only use :method:`Mongo.watch()` with the :ref:`Wired Tiger storage engine <storage-wiredtiger>`."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:63
msgid "Resumability"
msgstr ""

#: ../source/includes/extracts/changestream-resume.rst:2
msgid "Unlike the MongoDB :ecosystem:`drivers </drivers>`, the :binary:`~bin.mongo` shell does not automatically attempt to resume a change stream cursor after an error. The MongoDB drivers make *one* attempt to automatically resume a change stream cursor after certain errors."
msgstr ""

#: ../source/includes/extracts/changestream-resume.rst:9
msgid "|watchmethod| uses information stored in the oplog to produce the change event description and generate a resume token associated to that operation. If the operation identified by the resume token passed to the ``resumeAfter`` option has already dropped off the :term:`oplog`, |watchmethod| cannot resume the change stream."
msgstr ""

#: ../source/includes/extracts/changestream-resume.rst:15
msgid "See :ref:`change-stream-resume` for more information on resuming a change stream."
msgstr ""

#: ../source/includes/extracts/changestream-invalid-events.rst:2
msgid "You cannot resume a change stream after an :ref:`invalidate event <change-event-invalidate>` (for example, a collection drop or rename) closes the stream."
msgstr ""

#: ../source/includes/extracts/changestream-resume-token-change.rst:2
msgid "If the ``featureCompatibilityVersion`` (fcv) is set to ``\"4.0\"`` or greater, newly opened change streams return a hex-encoded string for the resume token data, i.e. the ``_id._data`` value. This change allows for the ability to compare and sort the resume tokens. If the fcv is ``3.6``, newly opened change streams return a BinData for the resume token data."
msgstr ""

#: ../source/includes/extracts/changestream-resume-token-change.rst:11
msgid "The fcv value at the time of the cursor's opening determine the resume token data type. That is, the modification of the fcv does not affect the resume tokens for change streams already opened before the fcv change."
msgstr ""

#: ../source/includes/extracts/changestream-resume-token-change.rst:16
msgid "Regardless of the fcv value, a 4.0 replica set or a sharded cluster can resume a change stream using either the BinData or string resume token."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:72
msgid "Full Document Lookup of Update Operations"
msgstr ""

#: ../source/includes/extracts/changestream-full-document-lookup.rst:1
msgid "By default, the :ref:`change stream cursor <changeStreams>` returns specific field changes/deltas for update operations. You can also configure the change stream to look up and return the current majority-committed version of the changed document. Depending on other write operations that may have occurred between the update and the lookup, the returned document may differ significantly from the document at the time of the update."
msgstr ""

#: ../source/includes/extracts/changestream-full-document-lookup.rst:9
msgid "Depending on the number of changes applied during the update operation and the size of the full document, there is a risk that the size of the change event document for an update operation is greater than the 16MB BSON document limit. If this occurs, the server closes the change stream cursor and returns an error."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:77
msgid "Availability"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:79
msgid "Change stream is only available if :readconcern:`\"majority\"` read concern support is enabled (default)."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:83
msgid "Access Control"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:85
msgid "When running with access control, the user must have the :authaction:`find` and :authaction:`changeStream` privilege actions on :ref:`all non-systems collections across all databases<resource-all-but-system-collections>`.. That is, a user must have a :ref:`role <roles>` that grants the following :ref:`privilege <privileges>`:"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:96
msgid "The built-in :authrole:`read` role provides the appropriate privileges."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:100
msgid "Example"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:102
msgid "The following operation in the :binary:`~bin.mongo` shell opens a change stream cursor on a replica set. The returned cursor reports on data changes to all the non-``system`` collections across all databases except for the ``admin``, ``local``, and the ``config`` databases."
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:111
msgid "Iterate the cursor to check for new events. Use the :method:`cursor.isExhausted()` method to ensure the loop only exits if the change stream cursor is closed *and* there are no objects remaining in the latest batch:"
msgstr ""

#: ../source/reference/method/Mongo.watch.txt:124
msgid "For complete documentation on change stream output, see :ref:`change-stream-output`."
msgstr ""

