# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2008-2019
# This file is distributed under the same license as the mongodb-manual package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: mongodb-manual 4.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-03-19 11:02-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:5
msgid "Upgrade a Sharded Cluster to 4.0"
msgstr ""

#: ../source/includes/extracts/4.0-errata-wt-4018.rst:2
msgid "MongoDB 4.0 may lose data during unclean shutdowns on macOS 10.13+."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:19
msgid "For details, see :issue:`WT-4018`."
msgstr ""

#: ../source/includes/upgrade-copy.rst:3
msgid "Before you attempt any upgrade, please familiarize yourself with the content of this document."
msgstr ""

#: ../source/includes/upgrade-copy.rst:6
msgid "If you need guidance on upgrading to |newversion|, `MongoDB offers major version upgrade services <https://www.mongodb.com/products/consulting?jmp=docs>`_ to help ensure a smooth transition without interruption to your MongoDB application."
msgstr ""

#: ../source/includes/upgrade-copy.rst:12
msgid "Upgrade Recommendations and Checklists"
msgstr ""

#: ../source/includes/upgrade-copy.rst:14
msgid "When upgrading, consider the following:"
msgstr ""

#: ../source/includes/upgrade-copy.rst:17
msgid "Upgrade Version Path"
msgstr ""

#: ../source/includes/upgrade-copy.rst:19
msgid "To upgrade an existing MongoDB deployment to |newversion|, you must be running a |oldseries| release."
msgstr ""

#: ../source/includes/upgrade-copy.rst:22
msgid "To upgrade from a version earlier than the |oldseries|, you must successively upgrade major releases until you have upgraded to |oldseries|. For example, if you are running a |olderseries|, you must upgrade first to |upgradefirst| *before* you can upgrade to |newversion|."
msgstr ""

#: ../source/includes/upgrade-copy.rst:28
msgid "Preparedness"
msgstr ""

#: ../source/includes/upgrade-copy.rst:30
msgid "Before beginning your upgrade, see the |compatibility| document to ensure that your applications and deployments are compatible with MongoDB |newversion|. Resolve the incompatibilities in your deployment before starting the upgrade."
msgstr ""

#: ../source/includes/upgrade-copy.rst:35
msgid "Before upgrading MongoDB, always test your application in a staging environment before deploying the upgrade to your production environment."
msgstr ""

#: ../source/includes/upgrade-copy.rst:41
msgid "Downgrade Consideration"
msgstr ""

#: ../source/includes/upgrade-copy.rst:43
msgid "|downgradepath|"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:27
msgid "Default Bind to Localhost"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:29
msgid "The following procedure includes the command-line option :option:`--bind_ip <mongod --bind_ip>` or the configuration option :setting:`net.bindIp` when restarting the replica set."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:33
msgid "Starting in MongoDB 3.6, the options must be specified when the replica set members are run on different hosts or if remote clients connect to the deployment. Omit if all members are run on the same host and all clients are local to the host."
msgstr ""

#: ../source/includes/warning-bind-ip-security-considerations.rst:3
msgid "Before binding to a non-localhost (e.g. publicly accessible) IP address, ensure you have secured your cluster from unauthorized access. For a complete list of security recommendations, see :doc:`/administration/security-checklist`. At minimum, consider :ref:`enabling authentication <checklist-auth>` and :doc:`hardening network infrastructure </core/security-network>`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:41
msgid "Read Concern Majority (3-Member Primary-Secondary-Arbiter Architecture)"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:43
msgid "Starting in MongoDB 3.6, MongoDB enables support for :readconcern:`\"majority\"` read concern by default."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:46
msgid "For MongoDB 4.0.3+ (and 3.6.1+), you can disable read concern :readconcern:`\"majority\"` to prevent the storage cache pressure from immobilizing a deployment with a three-member replica set with a primary-secondary-arbiter (PSA) architecture or a sharded cluster with a three-member PSA shards."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:54
msgid "Disabling :readconcern:`\"majority\"` read concern disables support for :doc:`/changeStreams`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:57
msgid "For more information, see :ref:`4.0-disable-read-concern-majority`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:60
msgid "Prerequisites"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:63
msgid "All Members Version"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:65
msgid "To upgrade a sharded cluster to |newversion|, **all** members of the cluster must be at least version |oldversion|. The upgrade process checks all components of the cluster and will produce warnings if any component is running version earlier than |oldversion|."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:71
msgid "Replica Set Member State"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:73
msgid "For shards and config servers, ensure that no replica set member is in :replstate:`ROLLBACK` or :replstate:`RECOVERING` state."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:77
msgid "Remove Support for ``MONGODB-CR``"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:79
msgid "Starting in version 4.0, MongoDB removes support for the deprecated MongoDB Challenge-Response (``MONGODB-CR``) authentication mechanism."
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-mongodb-cr.rst:1
msgid "If your deployment has user credentials stored in ``MONGODB-CR`` schema, you must upgrade to :ref:`Salted Challenge Response Authentication Mechanism (SCRAM) <authentication-scram>` **before** you upgrade to version 4.0. For information on upgrading to ``SCRAM``, see :doc:`/release-notes/3.0-scram`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:84
msgid "|compatibility|"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:88
msgid "Remove ``pv0`` for Replica Sets"
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-pv0.rst:2
msgid "Starting in version 4.0, MongoDB removes the deprecated replica set protocol version 0 ``pv0``."
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-pv0.rst:5
msgid "Before upgrading to MongoDB 4.0, you must upgrade to :rsconf:`pv1 <protocolVersion>`."
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-pv0.rst:8
msgid "To upgrade to ``pv1``, connect a :binary:`~bin.mongo` shell to the replica set primary and perform the following sequence of operations:"
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-pv0.rst:17
msgid "To reduce the likelihood of :writeconcern:`w:1 <\\<number\\>>` rollbacks, you can also reconfigure the replica set to a higher :rsconf:`settings.catchUpTimeoutMillis` setting."
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-pv0.rst:21
msgid "For more information on ``pv1``, see :doc:`/reference/replica-set-protocol-versions`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:93
msgid "Remove Master-Slave Replication"
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-master-slave.rst:2
msgid "MongoDB 4.0 removes support for the deprecated master-slave replication. Before you can upgrade to MongoDB 4.0, if your deployment uses master-slave replication, you must upgrade to a replica set."
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-master-slave.rst:6
msgid "To convert your master-slave replication, see :ref:`convert-master-slave-to-replica-set`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:98
msgid "Remove Support for ``$isolated``"
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-prereq-isolated.rst:2
msgid "MongoDB drops support for the ``$isolated`` operator. If you have an existing partial index that includes the ``$isolated`` operator or a view that includes a ``$isolated`` operator, recreate the index or view without the operator in the definition before upgrading."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:103
msgid "Feature Compatibility Version"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:105
msgid "The |oldversion| sharded cluster must have ``featureCompatibilityVersion`` set to ``3.6``."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:108
msgid "To ensure that all members of the sharded cluster have ``featureCompatibilityVersion`` set to ``3.6``, connect to each shard replica set member and each config server replica set member and check the ``featureCompatibilityVersion``:"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:115
msgid "For a sharded cluster that has access control enabled, to run the following command against a shard replica set member, you must connect to the member as a :ref:`shard local user <shard-local-users>`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:126
msgid "All members should return a result that includes ``\"featureCompatibilityVersion\" : { \"version\" : \"3.6\" }``."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:129
msgid "To set or update ``featureCompatibilityVersion``, run the following command on the :binary:`~bin.mongos`:"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:138
msgid "For more information, see :dbcommand:`setFeatureCompatibilityVersion`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:142
msgid "Back up the ``config`` Database"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:144
msgid "*Optional but Recommended.* As a precaution, take a backup of the ``config`` database *before* upgrading the sharded cluster."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:148
msgid "Download |newversion| Binaries"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:151
msgid "Use Package Manager"
msgstr ""

#: ../source/includes/fact-upgrade-with-package-mgr.rst:1
msgid "If you installed MongoDB from the MongoDB ``apt``, ``yum``, ``dnf``, or ``zypper`` repositories, you should upgrade to |newversion| using your package manager."
msgstr ""

#: ../source/includes/fact-upgrade-with-package-mgr.rst:5
msgid "Follow the appropriate :doc:`installation instructions </administration/install-on-linux>` for your Linux system. This will involve adding a repository for the new release, then performing the actual upgrade process."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:156
msgid "Download |newversion| Binaries Manually"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:158
msgid "If you have not installed MongoDB using a package manager, you can manually download the MongoDB binaries from the `MongoDB Download Center <https://www.mongodb.com/download-center?jmp=docs>`_."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:162
msgid "See :doc:`/installation` for more information."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:165
msgid "Upgrade Process"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:8
msgid "Disable the Balancer."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:11
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:48
msgid "Connect a :binary:`~bin.mongo` shell to a :binary:`~bin.mongos` instance in the sharded cluster, and run :method:`sh.stopBalancer()` to disable the balancer:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:21
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:58
msgid "If a migration is in progress, the system will complete the in-progress migration before stopping the balancer. You can run :method:`sh.isBalancerRunning()` to check the balancer's current state."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:26
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:63
msgid "To verify that the balancer is disabled, run :method:`sh.getBalancerState()`, which returns false if the balancer is disabled:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:34
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:71
msgid "For more information on disabling the balancer, see :ref:`sharding-balancing-disable-temporarily`."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:45
msgid "Step 1: Disable the Balancer."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:82
msgid "Upgrade the config servers."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:84
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:198
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:316
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:440
msgid "Upgrade the :ref:`secondary <replica-set-secondary-members>` members of the replica set one at a time:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:87
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:201
msgid "Shut down the secondary :binary:`~bin.mongod` instance and replace the |oldversion| binary with the |newversion| binary."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:90
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:204
msgid "Start the |newversion| binary with the :option:`--configsvr <mongod --configsvr>`, :option:`--replSet <mongod --replSet>`, and :option:`--port <mongod --port>`. Include any other options as used by the deployment."
msgstr ""

#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
#: ../source/includes/wiredtiger-node-nojournal.rst:1
msgid "Starting in MongoDB 4.0, you cannot specify :option:`--nojournal <mongod --nojournal>` option or :setting:`storage.journal.enabled: false <storage.journal.enabled>` for replica set members that use the WiredTiger storage engine."
msgstr ""

#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
#: ../source/includes/extracts/4.0-upgrade-incompatible-options-rs.rst:4
msgid "Starting in MongoDB 4.0, you cannot use :option:`--noIndexBuildRetry <mongod --noIndexBuildRetry>` :setting:`storage.indexBuildRetry` for a :binary:`~bin.mongod` instance that is part of a replica set."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:102
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:163
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:216
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:277
msgid "If using a :doc:`configuration file </reference/configuration-options>`, update the file to specify :setting:`sharding.clusterRole: configsvr <sharding.clusterRole>`, :setting:`replication.replSetName`, :setting:`net.port`, and :setting:`net.bindIp`, then start the |newversion| binary:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:121
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:235
msgid "Include any other settings as appropriate for your deployment."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:127
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:241
msgid "Wait for the member to recover to ``SECONDARY`` state before upgrading the next secondary member. To check the member's state, issue :method:`rs.status()` in the :binary:`~bin.mongo` shell."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:131
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:245
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:367
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:491
msgid "Repeat for each secondary member."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:133
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:247
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:369
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:493
msgid "Step down the replica set primary."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:135
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:249
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:371
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:495
msgid "Connect a :binary:`~bin.mongo` shell to the primary and use :method:`rs.stepDown()` to step down the primary and force an election of a new primary:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:144
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:258
msgid "When :method:`rs.status()` shows that the primary has stepped down and another member has assumed ``PRIMARY`` state, shut down the stepped-down primary and replace the :binary:`~bin.mongod` binary with the |newversion| binary."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:149
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:263
msgid "Start the |newversion| binary with the :option:`--configsvr <mongod --configsvr>`, :option:`--replSet <mongod --replSet>`, :option:`--port <mongod --port>`, and :option:`--bind_ip <mongod --bind_ip>` options. Include any optional command line options used by the previous deployment:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:183
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:297
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:356
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:421
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:480
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:545
msgid "Include any other configuration as appropriate for your deployment."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:196
msgid "Step 2: Upgrade the config servers."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:310
msgid "Upgrade the shards."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:312
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:436
msgid "Upgrade the shards one at a time."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:314
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:438
msgid "For each shard replica set:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:319
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:443
msgid "Shut down the :binary:`~bin.mongod` instance and replace the |oldversion| binary with the |newversion| binary."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:322
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:386
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:446
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:510
msgid "Start the |newversion| binary with the :option:`--shardsvr <mongod --shardsvr>`, :option:`--replSet <mongod --replSet>`, :option:`--port <mongod --port>`, and :option:`--bind_ip <mongod --bind_ip>` options. Include any additional command line options as appropriate for your deployment:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:337
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:461
msgid "If using a :doc:`configuration file </reference/configuration-options>`, update the file to include :setting:`sharding.clusterRole: shardsvr <sharding.clusterRole>`, :setting:`replication.replSetName`, :setting:`net.port`, and :setting:`net.bindIp`, then start the |newversion| binary:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:362
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:486
msgid "Wait for the member to recover to ``SECONDARY`` state before upgrading the next secondary member. To check the member's state, you can issue :method:`rs.status()` in the :binary:`~bin.mongo` shell."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:379
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:503
msgid "When :method:`rs.status()` shows that the primary has stepped down and another member has assumed ``PRIMARY`` state, upgrade the stepped-down primary:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:383
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:507
msgid "Shut down the stepped-down primary and replace the :binary:`~bin.mongod` binary with the |newversion| binary."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:401
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:525
msgid "If using a :doc:`configuration file </reference/configuration-options>`, update the file to specify :setting:`sharding.clusterRole: shardsvr <sharding.clusterRole>`, :setting:`replication.replSetName`, :setting:`net.port`, and :setting:`net.bindIp`, then start the |newversion| binary:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:434
msgid "Step 3: Upgrade the shards."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:558
msgid "Upgrade the ``mongos`` instances."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:560
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:580
msgid "Replace each :binary:`~bin.mongos` instance with the |newversion| binary and restart. Include any other configuration as appropriate for your deployment."
msgstr ""

#: ../source/includes/fact-bind-ip-sharded-clusters.rst:3
#: ../source/includes/fact-bind-ip-sharded-clusters.rst:3
msgid "The :option:`--bind_ip <mongod --bind_ip>` option must be specified when the sharded cluster members are run on different hosts or if remote clients connect to the sharded cluster. For more information, see :ref:`3.6-bind_ip-compatibility`."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:578
msgid "Step 4: Upgrade the ``mongos`` instances."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:598
msgid "Re-enable the balancer."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:601
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:626
msgid "Using a |newversion| :binary:`~bin.mongo` shell, connect to a :binary:`~bin.mongos` in the cluster and run :method:`sh.setBalancerState()` to re-enable the balancer:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:610
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:635
msgid "The |oldversion| and earlier :binary:`~bin.mongo` shell is not compatible with |newversion| clusters."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:613
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:638
msgid "For more information about re-enabling the balancer, see :ref:`sharding-balancing-enable`."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:623
msgid "Step 5: Re-enable the balancer."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:648
msgid "Enable backwards-incompatible |newversion| features."
msgstr ""

#: ../source/includes/upgrade-enable-features.rst:1
#: ../source/includes/upgrade-enable-features.rst:1
msgid "At this point, you can run the |newversion| binaries without the |newversion| |features|  with |oldversion|."
msgstr ""

#: ../source/includes/upgrade-enable-features.rst:4
#: ../source/includes/upgrade-enable-features.rst:4
msgid "To enable these |newversion| features, set the feature compatibility version (``FCV``) to |newversion|."
msgstr ""

#: ../source/includes/featureCompatibility-caveat.rst:1
#: ../source/includes/featureCompatibility-caveat.rst:1
msgid "Enabling these backwards-incompatible features can complicate the downgrade process since you must remove any persisted backwards-incompatible features before you downgrade."
msgstr ""

#: ../source/includes/featureCompatibility-caveat.rst:5
#: ../source/includes/featureCompatibility-caveat.rst:5
msgid "It is recommended that after upgrading, you allow your deployment to run without enabling these features for a burn-in period to ensure the likelihood of downgrade is minimal. When you are confident that the likelihood of downgrade is minimal, enable these features."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:658
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:691
msgid "On a :binary:`~bin.mongos` instance, run the :dbcommand:`setFeatureCompatibilityVersion` command in the ``admin`` database:"
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:668
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:701
msgid "This command must perform writes to an internal system collection. If for any reason the command does not complete successfully, you can safely retry the command on the :binary:`~bin.mongos` as the operation is idempotent."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:681
msgid "Step 6: Enable backwards-incompatible |newversion| features."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:714
msgid "Restart ``mongos`` instances."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:717
#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:732
msgid "After changing the ``featureCompatibilityVersion``, all :binary:`~bin.mongos` instances need to be restarted to pick up the changes in the causal consistency behavior."
msgstr ""

#: ../source/includes/steps/4.0-upgrade-sharded-cluster.rst:729
msgid "Step 7: Restart ``mongos`` instances."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:170
msgid "Additional Upgrade Procedures"
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:172
msgid "To upgrade a standalone, see :ref:`4.0-upgrade-standalone`."
msgstr ""

#: ../source/release-notes/4.0-upgrade-sharded-cluster.txt:173
msgid "To upgrade a replica set, see :ref:`4.0-upgrade-replica-set`."
msgstr ""

