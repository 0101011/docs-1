<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="980" height="700" viewBox="0, 0, 980, 700">
  <g id="Layer 1">
    <g>
      <text transform="matrix(1, 0, 0, 1, 118.063, 53.139)">
        <tspan x="-112.068" y="2.699" font-family="Inconsolata" font-size="20" fill="#13206F"> db.orders.mapReduce( </tspan>
      </text>
      <path d="M113.908,220.544 L113.975,220.544 L113.975,220.943 L113.908,220.943 z" fill="#FFFFFF"/>
      <text transform="matrix(1, 0, 0, 1, 471.495, 127.052)">
        <tspan x="-248.852" y="-53.5" font-family="Inconsolata" font-size="20" fill="#13206F">function(){ emit(this.cust_id, this.amount); },</tspan>
        <tspan x="-248.852" y="-30.5" font-family="Inconsolata" font-size="20" fill="#13206F">function(key,values){ return Array.sum(values) },</tspan>
        <tspan x="-248.852" y="-7.5" font-family="Inconsolata" font-size="20" fill="#13206F">{ </tspan>
        <tspan x="-248.852" y="16.5" font-family="GillSans" font-size="20" fill="#13206F">  </tspan>
        <tspan x="-237.738" y="16.5" font-family="Inconsolata" font-size="20" fill="#13206F">out: "mapReduceResults",</tspan>
        <tspan x="-248.852" y="41.5" font-family="GillSans" font-size="20" fill="#13206F">  </tspan>
        <tspan x="-237.738" y="41.5" font-family="Inconsolata" font-size="20" fill="#13206F">query: { status: "A" }  </tspan>
        <tspan x="-248.852" y="65.5" font-family="Inconsolata" font-size="20" fill="#13206F">}</tspan>
      </text>
      <text transform="matrix(1, 0, 0, 1, 215.285, 211.853)">
        <tspan x="-8.977" y="2.699" font-family="Inconsolata" font-size="20" fill="#13206F">) </tspan>
      </text>
    </g>
    <g>
      <g>
        <path d="M6.667,242.697 L178.907,242.697 L178.907,669.697 L6.667,669.697 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 289.697)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 500,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <path d="M6.667,349.521 L179.167,349.544" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 395.833)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 250,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <path d="M6.667,455.431 L179.167,455.454" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 502.697)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "B212",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 200,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <path d="M6.495,562.064 L178.995,562.087" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 88.792, 609.501)">
          <tspan x="-66.5" y="-28.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-12.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "A123",</tspan>
          <tspan x="-66.5" y="4.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 300,</tspan>
          <tspan x="-66.5" y="21.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
          <tspan x="-50.941" y="21.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "D"</tspan>
          <tspan x="-66.5" y="37.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
      <text transform="matrix(1, 0, 0, 1, 92.331, 681.5)">
        <tspan x="-27" y="5.5" font-family="Inconsolata" font-size="18" fill="#13206F">orders</tspan>
      </text>
    </g>
    <g>
      <path d="M155.586,70.34 L191.587,69.927" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <path d="M191.621,72.927 L199.586,69.836 L191.552,66.928 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 126.201, 69.582)">
      <tspan x="-33.492" y="4.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">map</tspan>
    </text>
    <g>
      <path d="M155.586,91.34 L191.587,90.927" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <path d="M191.621,93.927 L199.586,90.836 L191.552,87.928 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 125.201, 90.582)">
      <tspan x="-34.451" y="4.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">reduce</tspan>
    </text>
    <g>
      <path d="M155.586,139.254 L191.587,138.841" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <path d="M191.621,141.841 L199.586,138.75 L191.552,135.842 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 121.96, 140.58)">
      <tspan x="-31.21" y="3.416" font-family="Inconsolata" font-size="18" fill="#2A86C0">output</tspan>
    </text>
    <g>
      <path d="M155.586,164.422 L191.587,164.009" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <path d="M191.621,167.009 L199.586,163.918 L191.552,161.01 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 117.418, 162.664)">
      <tspan x="-26.668" y="4.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">query</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 64.889, 15.865)">
      <tspan x="-46.323" y="5.337" font-family="Inconsolata" font-size="18" fill="#2A86C0">Collection</tspan>
    </text>
    <g>
      <path d="M65.389,22.137 L65.389,34.339" fill-opacity="0" stroke="#358EC4" stroke-width="1"/>
      <path d="M62.389,34.339 L65.389,42.339 L68.389,34.339 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="1" stroke-opacity="1"/>
    </g>
    <g>
      <path d="M303.437,320.605 L414.527,320.605 L414.527,338.094 L303.437,338.094 z" fill="#AFD1E8"/>
      <text transform="matrix(1, 0, 0, 1, 361.918, 329.972)">
        <tspan x="-58.559" y="3.878" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
      </text>
    </g>
    <g>
      <path d="M304.454,429.684 L415.544,429.684 L415.544,447.172 L304.454,447.172 z" fill="#AFD1E8"/>
      <text transform="matrix(1, 0, 0, 1, 361.231, 439.851)">
        <tspan x="-56.855" y="4.321" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
      </text>
    </g>
    <path d="M274.34,295.379 L446.58,295.379 L446.58,615.5 L274.34,615.5 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
    <text transform="matrix(1, 0, 0, 1, 347.672, 455.515)">
      <tspan x="-57.707" y="-27.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-57.707" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-57.707" y="3.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.148" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 250,</tspan>
      <tspan x="-57.707" y="20.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.148" y="20.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
      <tspan x="-57.707" y="36.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 345.337, 346.379)">
      <tspan x="-55.372" y="-27.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-55.372" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-55.372" y="3.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-39.814" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 500,</tspan>
      <tspan x="-55.372" y="20.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-39.814" y="20.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
      <tspan x="-55.372" y="36.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M274.21,402.957 L446.71,402.98" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    <path d="M274.21,508.867 L446.71,508.891" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    <text transform="matrix(1, 0, 0, 1, 347.607, 561.133)">
      <tspan x="-57.772" y="-27.5" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-57.772" y="-12.5" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-57.772" y="3.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.213" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">amount: 200,</tspan>
      <tspan x="-57.772" y="20.5" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-42.213" y="20.5" font-family="Inconsolata" font-size="14" fill="#25337C">status: "A"</tspan>
      <tspan x="-57.772" y="36.5" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M303.96,535.771 L415.049,535.771 L415.049,553.259 L303.96,553.259 z" fill="#A3A3A3"/>
    <text transform="matrix(1, 0, 0, 1, 359.96, 544.515)">
      <tspan x="-56" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "B212",</tspan>
    </text>
    <g>
      <g>
        <path d="M187.167,455.635 L250.767,455.635" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
        <path d="M250.767,460.435 L263.567,455.635 L250.767,450.835 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
      </g>
      <text transform="matrix(1, 0, 0, 1, 225.975, 465.486)">
        <tspan x="-27" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">query</tspan>
      </text>
    </g>
    <text transform="matrix(1, 0, 0, 1, 876.057, 576.236)">
      <tspan x="-73.25" y="5.146" font-family="Inconsolata" font-size="18" fill="#13206F">mapReduceResults</tspan>
    </text>
    <g>
      <path d="M454.34,455.635 L517.94,455.635" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <path d="M517.94,460.435 L530.74,455.635 L517.94,450.835 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 490.89, 466.598)">
      <tspan x="-15.549" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">map</tspan>
    </text>
    <g>
      <path d="M696.951,455.52 L760.551,455.52" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <path d="M760.551,460.32 L773.351,455.52 L760.551,450.72 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 730.862, 466.598)">
      <tspan x="-27.98" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">reduce</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 646.469, 447.49)">
      <tspan x="-43.393" y="3.5" font-family="Inconsolata" font-size="14" fill="#25337C">[ 500, 250 ]</tspan>
    </text>
    <path d="M550.508,438.745 L592.416,438.745 L592.416,456.234 L550.508,456.234 z" fill="#AFD1E8"/>
    <text transform="matrix(1, 0, 0, 1, 573.907, 448.505)">
      <tspan x="-23.399" y="2.485" font-family="Inconsolata" font-size="14" fill="#13206F">"A123"</tspan>
    </text>
    <path d="M597.806,419.667 L597.806,492.891" fill-opacity="0" stroke="#4F4C4B" stroke-width="1"/>
    <path d="M543.008,433.667 L688.008,433.667" fill-opacity="0" stroke="#4F4C4B" stroke-width="1"/>
    <g>
      <path d="M550.508,466.742 L592.416,466.742 L592.416,484.23 L550.508,484.23 z" fill="#A3A3A3"/>
      <text transform="matrix(1, 0, 0, 1, 572.316, 475.486)">
        <tspan x="-21.809" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">"B212"</tspan>
      </text>
    </g>
    <path d="M829.045,384.069 L915.61,384.069 L915.61,401.557 L829.045,401.557 z" fill="#AFD1E8"/>
    <text transform="matrix(1, 0, 0, 1, 874.932, 393.813)">
      <tspan x="-45.887" y="3.878" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "A123",</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 859.592, 401.619)">
      <tspan x="-45.827" y="-19" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-45.827" y="-4" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-45.827" y="12" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-30.269" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">value: 750</tspan>
      <tspan x="-45.827" y="28" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M827.447,494.16 L915.61,494.16 L915.61,511.649 L827.447,511.649 z" fill="#A3A3A3"/>
    <text transform="matrix(1, 0, 0, 1, 870.953, 503.705)">
      <tspan x="-43.068" y="4.321" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "B212",</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 863.957, 511.94)">
      <tspan x="-51.653" y="-19" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
      <tspan x="-51.653" y="-4" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
      <tspan x="-51.653" y="12" font-family="GillSansMT" font-size="14" fill="#25337C">    </tspan>
      <tspan x="-36.095" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">value: 200</tspan>
      <tspan x="-51.653" y="28" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
    </text>
    <path d="M790.372,348.776 L962.742,348.776 L962.742,562.264 L790.372,562.264 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
    <path d="M790.242,456.354 L962.742,456.377" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    <text transform="matrix(1, 0, 0, 1, 615.008, 475.486)">
      <tspan x="-10.5" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">200</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 571.316, 420.619)">
      <tspan x="-13.511" y="6" font-family="GillSans" font-size="20" fill="#4F4C4B">key</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 642.211, 420.619)">
      <tspan x="-24.478" y="6" font-family="GillSans" font-size="20" fill="#4F4C4B">values</tspan>
    </text>
  </g>
  <defs/>
</svg>
