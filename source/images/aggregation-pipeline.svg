<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792" height="590" viewBox="0, 0, 792, 590">
  <g id="Layer 2">
    <g>
      <g>
        <g>
          <path d="M339.058,205.318 L450.147,205.318 L450.147,222.807 L339.058,222.807 z" fill="#AFD1E8"/>
          <text transform="matrix(1, 0, 0, 1, 397.538, 214.685)">
            <tspan x="-58.559" y="3.878" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
          </text>
        </g>
        <g>
          <path d="M340.074,310.396 L451.164,310.396 L451.164,327.885 L340.074,327.885 z" fill="#AFD1E8"/>
          <text transform="matrix(1, 0, 0, 1, 396.851, 320.563)">
            <tspan x="-56.855" y="4.321" font-family="Inconsolata" font-size="14" fill="#13206F">cust_id: "A123",</tspan>
          </text>
        </g>
        <path d="M309.96,185.092 L482.2,185.092 L482.2,505.213 L309.96,505.213 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 392.085, 342.728)">
          <tspan x="-66.5" y="-33" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
          <tspan x="-66.5" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  amount: 250,</tspan>
          <tspan x="-66.5" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  status: "A",</tspan>
          <tspan x="-66.5" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">  ...</tspan>
          <tspan x="-66.5" y="42" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 392.085, 236.592)">
          <tspan x="-66.5" y="-33" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
          <tspan x="-66.5" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  amount: 500,</tspan>
          <tspan x="-66.5" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  status: "A",</tspan>
          <tspan x="-66.5" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">  ...</tspan>
          <tspan x="-66.5" y="42" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
        <path d="M309.83,292.67 L482.33,292.693" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <path d="M309.83,398.58 L482.33,398.603" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
        <text transform="matrix(1, 0, 0, 1, 391.955, 450.346)">
          <tspan x="-66.5" y="-33" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-66.5" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
          <tspan x="-66.5" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  amount: 200,</tspan>
          <tspan x="-66.5" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  status: "A",</tspan>
          <tspan x="-66.5" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">  ...</tspan>
          <tspan x="-66.5" y="42" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
      <g>
        <path d="M339.58,418.484 L450.67,418.484 L450.67,435.972 L339.58,435.972 z" fill="#836BA8"/>
        <text transform="matrix(1, 0, 0, 1, 395.58, 427.228)">
          <tspan x="-56" y="4.5" font-family="Inconsolata" font-size="14" fill="#25337C">cust_id: "B212",</tspan>
        </text>
      </g>
    </g>
    <g>
      <path d="M18.705,131.848 L190.945,131.848 L190.945,558.848 L18.705,558.848 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
      <text transform="matrix(1, 0, 0, 1, 100.83, 183.348)">
        <tspan x="-66.5" y="-33" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        <tspan x="-66.5" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">  cust_id: "A123",</tspan>
        <tspan x="-66.5" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  amount: 500,</tspan>
        <tspan x="-66.5" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  status: "A",</tspan>
        <tspan x="-66.5" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">  ...</tspan>
        <tspan x="-66.5" y="42" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
      </text>
      <path d="M18.705,238.672 L191.205,238.695" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
      <text transform="matrix(1, 0, 0, 1, 100.83, 289.484)">
        <tspan x="-66.5" y="-33" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        <tspan x="-66.5" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">  cust_id: "A123",</tspan>
        <tspan x="-66.5" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  amount: 250,</tspan>
        <tspan x="-66.5" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  status: "A",</tspan>
        <tspan x="-66.5" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">  ...</tspan>
        <tspan x="-66.5" y="42" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
      </text>
      <path d="M18.705,344.582 L191.205,344.605" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
      <text transform="matrix(1, 0, 0, 1, 100.83, 396.348)">
        <tspan x="-66.5" y="-33" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        <tspan x="-66.5" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">  cust_id: "B212",</tspan>
        <tspan x="-66.5" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  amount: 200,</tspan>
        <tspan x="-66.5" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  status: "A",</tspan>
        <tspan x="-66.5" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">  ...</tspan>
        <tspan x="-66.5" y="42" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
      </text>
      <path d="M18.533,451.215 L191.033,451.238" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
      <text transform="matrix(1, 0, 0, 1, 100.83, 503.152)">
        <tspan x="-66.5" y="-33" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        <tspan x="-66.5" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">  cust_id: "A123",</tspan>
        <tspan x="-66.5" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  amount: 300,</tspan>
        <tspan x="-66.5" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  status: "D",</tspan>
        <tspan x="-66.5" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">  ...</tspan>
        <tspan x="-66.5" y="42" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
      </text>
    </g>
    <g>
      <g>
        <path d="M640.77,272.477 L751.86,272.477 L751.86,289.965 L640.77,289.965 z" fill="#AFD1E8"/>
        <text transform="matrix(1, 0, 0, 1, 692.522, 282.221)">
          <tspan x="-51.752" y="3.878" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "A123",</tspan>
        </text>
        <text transform="matrix(1, 0, 0, 1, 671.317, 289.027)">
          <tspan x="-45.827" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
          <tspan x="-45.827" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
          <tspan x="-45.827" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  total: 750</tspan>
          <tspan x="-45.827" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
        </text>
      </g>
      <path d="M639.172,382.568 L750.262,382.568 L750.262,400.057 L639.172,400.057 z" fill="#836BA8"/>
      <text transform="matrix(1, 0, 0, 1, 696.466, 392.113)">
        <tspan x="-56.855" y="4.321" font-family="Inconsolata" font-size="14" fill="#13206F">_id: "B212",</tspan>
      </text>
      <text transform="matrix(1, 0, 0, 1, 675.682, 399.348)">
        <tspan x="-51.653" y="-18" font-family="Inconsolata" font-size="14" fill="#25337C">{ </tspan>
        <tspan x="-51.653" y="-3" font-family="Inconsolata" font-size="14" fill="#25337C">  </tspan>
        <tspan x="-51.653" y="12" font-family="Inconsolata" font-size="14" fill="#25337C">  total: 200</tspan>
        <tspan x="-51.653" y="27" font-family="Inconsolata" font-size="14" fill="#25337C">}</tspan>
      </text>
      <path d="M602.097,237.184 L774.467,237.184 L774.467,450.672 L602.097,450.672 z" fill-opacity="0" stroke="#13206F" stroke-width="1"/>
      <path d="M601.967,344.762 L774.467,344.785" fill-opacity="0" stroke="#25337C" stroke-width="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 140.213, 33.421)">
      <tspan x="-116.103" y="4.481" font-family="Inconsolata" font-size="18" fill="#13206F">db.orders.aggregate(</tspan>
    </text>
    <g>
      <path d="M142.787,54.459 L193.787,54.021" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <path d="M193.813,57.021 L201.787,53.952 L193.762,51.021 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
    </g>
    <g>
      <path d="M142.787,74.354 L193.787,73.915" fill-opacity="0" stroke="#2A86C0" stroke-width="1"/>
      <path d="M193.813,76.915 L201.787,73.846 L193.762,70.915 z" fill="#2A86C0" fill-opacity="1" stroke="#2A86C0" stroke-width="1" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 100.287, 53.701)">
      <tspan x="-42" y="4.5" font-family="Inconsolata" font-size="14" fill="#2A86C0">$match phase</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 100.287, 73.719)">
      <tspan x="-42" y="4.5" font-family="Inconsolata" font-size="14" fill="#2A86C0">$group phase</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 88.834, 15.402)">
      <tspan x="-35" y="4.5" font-family="Inconsolata" font-size="14" fill="#2A86C0">Collection</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 96.834, 572.598)">
      <tspan x="-27" y="5.5" font-family="Inconsolata" font-size="18" fill="#13206F">orders</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 694.012, 226.83)">
      <tspan x="-32.869" y="5.146" font-family="Inconsolata" font-size="18" fill="#13206F">Results</tspan>
    </text>
    <g>
      <path d="M493.088,343.77 L575.196,343.77" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <path d="M575.196,348.57 L587.996,343.77 L575.196,338.97 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
    </g>
    <g>
      <path d="M202.787,345.348 L284.895,345.348" fill-opacity="0" stroke="#358EC4" stroke-width="4"/>
      <path d="M284.895,350.148 L297.695,345.348 L284.895,340.548 z" fill="#358EC4" fill-opacity="1" stroke="#358EC4" stroke-width="4" stroke-opacity="1"/>
    </g>
    <text transform="matrix(1, 0, 0, 1, 241.596, 355.199)">
      <tspan x="-27" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">$match</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 535.283, 355.199)">
      <tspan x="-27" y="5.5" font-family="Inconsolata" font-size="18" fill="#2A86C0">$group</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 489.122, 63.998)">
      <tspan x="-279.536" y="-6.221" font-family="Inconsolata" font-size="18" fill="#13206F">{ $match: { status: "A" } }, </tspan>
      <tspan x="-279.536" y="13.779" font-family="Inconsolata" font-size="18" fill="#13206F">{ $group: { _id: "$cust_id", total: { $sum: "$amount" } } }</tspan>
    </text>
    <text transform="matrix(1, 0, 0, 1, 202.618, 91.737)">
      <tspan x="-4.739" y="4.481" font-family="Inconsolata" font-size="18" fill="#13206F">)</tspan>
    </text>
  </g>
  <defs/>
</svg>
