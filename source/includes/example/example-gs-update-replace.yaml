collection: "inventory"
options:
  show_title: False
  show_collection: False
content:
  - '{ "item" : "ABC1", "details" : { "model" : "14Q3", "manufacturer" : "XYZ Company" }, "stock" : [ { "size" : "S", "qty" : 25 }, { "size" : "M", "qty" : 50 } ], "category" : "clothing" }'
  - '{ "item" : "ABC2", "details" : { "model" : "14Q3", "manufacturer" : "M1 Corporation" }, "stock" : [ { "size" : "M", "qty" : 50 } ], "category" : "clothing" }'
  - '{ "item" : "MNO2", "details" : { "model" : "14Q3", "manufacturer" : "ABC Company" }, "stock" : [ { "size" : "S", "qty" : 5 }, { "size" : "M", "qty" : 5 }, { "size" : "L", "qty" : 1 } ], "category" : "clothing" }'
  - '{ "item" : "IJK2", "details" : { "model" : "14Q2", "manufacturer" : "M5 Corporation" }, "stock" : [ { "size" : "S", "qty" : 5 }, { "size" : "L", "qty" : 1 } ], "category" : "houseware" }'
  - '{ "item" : "BE10", "details" : { "model" : "14Q2", "manufacturer" : "XYZ Company" }, "stock" : [ { "size" : "L", "qty" : 5 } ], "category" : "clothing" }'
  - '{ "item" : "ZYT1", "details" : { "model" : "14Q1", "manufacturer" : "ABC Company" }, "stock" : [ { "size" : "S", "qty" : 5 }, { "size" : "M", "qty" : 5 } ], "category" : "houseware" }'
---
ref: 1
pre: |
  The following operation completely replaces the document with
  ``item`` equal to ``"BE10"``, except for the ``_id`` field. The newly
  replaced document will **only** contain the ``_id`` field and the
  fields in the replacement document.

  Because the replacement document does not contain the ``item`` and
  ``details`` fields, the updated document will **not** contain these
  fields.
operation:
  language: javascript
  code: |
    db.inventory.update(
       { item: "BE10" },
       {
         stock: [ { size: "S", qty: 20 }, { size: "M", qty: 5 } ],
         category: "apparel"
       }
    )
post: |
  The update operation returns a :method:`WriteResult` object which
  contains the status of the operation. A successful update of the
  document returns the following object:
results:
  - 'WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })'
...