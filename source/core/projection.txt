===========
Projections
===========

.. default-domain:: mongodb

By default a query in MongoDB returns the complete content of all
matching document. For large documents and document where you only
need to use a subset of the document's fields, you can limit the
number of fields MongoDB returns to your application. These
:term:`projections <projection>` and help minimize the amount of data
that your application has to promise, and increase the overall
efficiency of your application.

Projection Statements
---------------------

The *second* argument to the :method:`~db.collection.find()` and
:method:`~db.collection.findOne()` methods defines a projection. The
projection is a :term:`document` that specifies which fields to
include or exclude. For example:

.. code-block:: javascript

   db.records.find( { "user_id": { $lt: 42} }, { "_id": 0, "name": 1 , "email": 1 })

This query selects a number of documents in the ``records``
collection, that match the query ``{ "user_id": { $lt: 42} }``, but
only returns the ``name`` and  ``email`` fields.

To include a field in a projection, specify the field name with the
value ``1``. To exclude a field from a projection specify the field
name and the value ``0``.

.. important:: You *cannot* combine inclusion and exclusion semantics
   in a single projection with the *exception* of the ``_id`` field.

For more examples of queries with projection statements, sees
:doc:`/tutorial/limit-or-project-fields`.

Projection Behavior
-------------------

- In MongoDB, the ``_id`` field is always included in results unless
  explicitly excluded.

- Projections can either exclude a selection of fields , or include a
  specific subset of fields from the result documents. Except for
  excluding the ``_id`` field in inclusive projections, you cannot
  mix exclusive and inclusive projections.

- The :projection:`$elemMatch` and :projection:`$slice` provide
  additional controls over the projection of data from arrays in
  result documents.

- The :pipeline:`$project` stage in the :doc:`aggregation framework
  </core/aggregation>` pipeline provides related functionality in the
  context of data aggregation operations.
