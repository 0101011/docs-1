=============
Shard Servers
=============

.. default-domain:: mongodb

.. TODO Intro paragraph .. following is just a placeholder.

A shard is a :term:`replica set` or a single :program:`mongod` that
contains a subset of the data set for the sharded cluster....

Primary Shard
-------------

Every database has a "primary" [#overloaded-primary-term]_ shard that
holds all un-sharded collections in that database. All *un-sharded*
collections reside on the primary shard for their database.

.. include:: /images/sharded-cluster-primary-shard.rst

To change the primary shard for a database, use the
:dbcommand:`movePrimary` command.

.. warning::

   The :dbcommand:`movePrimary` command can be expensive because it
   copies all non-sharded data to the new shard, during which time,
   that data will be unavailable for other operations.

When you deploy a new :term:`sharded cluster`, the "first shard" becomes
the primary for all databases before enabling sharding. Databases
created subsequently, may reside on any shard in the cluster.

Use the :method:`db.printShardingStatus()` command or the
:method:`sh.status()` to see an overview of the cluster, including
information about the primary shard for the database, which database
has sharding enabled, and the :term:`chunk` and database distribution
within the cluster.

.. [#overloaded-primary-term] The term "primary" in the context of
   databases and sharding has nothing to do with the term
   :term:`primary` in the context of :term:`replica sets <replica set>`.
