========
ObjectId
========

:term:`ObjectId <objectid>` is a special :term:`BSON` type. It is a
12-byte value consisting of:

- 4-byte timestamp
- 3-byte machine id
- 2-byte process id
- 3-byte counter

In MongoDB, documents stored in collections must have an :term:`_id`
field. If a document is missing the ``_id`` field during a create
operation, the :program:`mongod` adds the ``_id`` field and generates a
unique ``ObjectId`` to assign as its value.

ObjectId()
----------

MongoDB provides the ``ObjectId()`` wrapper class in the :program:`mongo`
shell. The ``ObjectId()`` class can generate a new ``ObjectId`` and provide
the following helper attribute and methods:

.. glossary:: 

   str
      
      the hexadecimal string value of the ObjectID() object.
      
   toString() 
   
      returns the string representation of the ObjectId() object. The
      returned string literal has the format "ObjectId(...)".
   
      Prior to version 2.2, returns the value of the object as a
      hexadecmial string.
   
   valueOf()

      returns the value of the ObjectId() object as a hexadecimal string.
      The returned string is the ``str`` attribute.

      Prior to version 2.2, returns the string literal "ObjectId(...)"
      
Consider the following usage of the ObjectID() class in the :program:`mongo`
shell:

- Generate a new ObjectId() using the constructor with no argument:

  .. code-block:: javascript

     > x=ObjectId()
       
     ObjectId("507f1f77bcf86cd799439011")

- Generate a new ObjectId() using the constructor with a unique hexadecimal string:

  .. code-block:: javascript

     > y=ObjectId("507f191e810c19729de860ea")

     ObjectId("507f191e810c19729de860ea")

- Access the ``str`` attribute of an ObjectId() object:

  .. code-block:: javascript

     > y.str

     507f191e810c19729de860ea

- Get the string representation of an ObjectId() object:

  .. code-block:: javascript

     > y.toString()

     ObjectId("507f191e810c19729de860ea")

- Get the value of an ObjectId() object as a hexadecimal string:

  .. code-block:: javascript

     > y.valueOf()

     507f191e810c19729de860ea
