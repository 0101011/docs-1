=========================
db.collection.mapReduce()
=========================

.. default-domain:: mongodb

.. method:: db.collection.mapReduce()

   The :method:`db.collection.mapReduce()` method provides a wrapper
   around the :dbcommand:`mapReduce` command.

   .. code-block:: javascript

      db.collection.mapReduce(
                               <map>,
                               <reduce>,
                               {
                                 <out>,
                                 <query>,
                                 <sort>,
                                 <limit>,
                                 <finalize>,
                                 <scope>,
                                 <jsMode>,
                                 <verbose>
                               }
                             )
                             
   :method:`db.collection.mapReduce()` takes the following parameters:

   .. include:: /includes/parameters-map-reduce.rst

   .. mapReduce-syntax-end

   .. include:: /includes/examples-map-reduce.rst
      :start-after: map-reduce-examples-begin
      :end-before: map-reduce-document-prototype-end

   - .. include:: /includes/examples-map-reduce.rst
        :start-after: map-reduce-sum-price
        :end-before: map-reduce-sum-price-wrapper-end

   - .. include:: /includes/examples-map-reduce.rst
        :start-after: map-reduce-item-counts
        :end-before: map-reduce-item-counts-avg-wrapper-end

   .. seealso:: :term:`map-reduce` and :dbcommand:`mapReduce`

      The :doc:`Map-Reduce </applications/map-reduce>` page
      provides a greater overview of MongoDB's map-reduce
      functionality, while the :doc:`/applications/aggregation`
      provides an overview of the aggregation framework.
            
      .. Consider
      .. STUB ":doc:`/applications/simple-aggregation` for simple aggregation
      .. operations and :doc:`/applications/aggregation`" for a more flexible
      .. approach to data aggregation in MongoDB.
