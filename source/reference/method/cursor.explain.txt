================
cursor.explain()
================

.. default-domain:: mongodb

.. method:: cursor.explain()

   The :method:`cursor.explain()` method provides information on the
   query plan. 

   :param boolean verbose:

          Specifies the level of detail to include in the output. If
          ``true`` or ``1``, include the ``allPlans`` and ``oldPlan``
          fields in the :doc:`output document
          </reference/explain-output>`.

   :returns: A :doc:`document </reference/explain-output>` that
             describes the process used to return the query.

   Retrieve the query plan by appending :method:`explain()
   <cursor.explain()>` to a :method:`find()` query, as in the following
   example:

   .. code-block:: javascript

      db.products.find().explain() 

   :method:`explain <cursor.explain()>` runs the actual query to
   determine the result. If the query is slow, the :method:`explain
   <cursor.explain()>` will also be slow. Additionally, when you call
   the :method:`explain <cursor.explain()>` on a query, the query
   system reevaluates the query plan, which may cause some queries to
   run slower. As a result, these operations provide an accurate
   account of *how* MongoDB would perform the query, but not
   necessarily *how long* the query would take.

   To determine the performance of a particular index, you can use
   :method:`hint() <cursor.hint()>`  and in conjunction with
   :method:`explain() <cursor.explain()>`, as in the following example:

   .. code-block:: javascript

      db.products.find().hint( { type: 1 } ).explain()

   When you run :method:`explain <cursor.explain()>` with
   :method:`hint() <cursor.hint()>`, the query optimizer does not
   reevaluate the query plan.

   For details on the output, see :doc:`/reference/explain-output`.

   .. seealso:: 
   
      - :operator:`$explain`
      
      - :wiki:`Optimization` wiki page for information regarding
        optimization strategies.

      - :wiki:`Database Profiler` wiki page for information regarding
        optimization strategies.
        
      - :doc:`Current Operation Reporting </reference/current-op>`
