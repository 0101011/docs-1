====
$max
====

.. default-domain:: mongodb

.. operator:: $max

   Specify a :operator:`$max` value to specify the *exclusive* upper
   bound for a specific index in order to constrain the results of
   :method:`find() <db.collection.find()>`. Consider the following
   operations on a collection named ``collection`` that has an index
   ``{ age: 1 }``:

   .. code-block:: javascript

       db.collection.find()._addSpecial( "$max", { age : 100 } )
       db.collection.find( { $query: {}, $max: { age: 100 } } )

   These are equivalent to the following :method:`cursor.max()` method that
   may be more familiar to you:

   .. code-block:: javascript

      db.collection.find().max( { age: 100 } )
      
   This operation above limits the query to those documents where the
   field ``age`` is less than ``100`` using the index ``{ age: 1 }``.
   You can explicitly specify the particular index with the
   :operator:`$hint`. Otherwise, MongoDB selects the index using the
   fields in the ``indexbounds``; however, if multiple indexes exist on
   same fields with different sort orders, the selection of the index
   may be ambiguous.

   Use operation alone or in conjunction with :operator:`$min`
   to limit results to a specific range for the same index.

   .. note::

      In most cases, you should avoid this operator in favor of
      :operator:`$lt`.
