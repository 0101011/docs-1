==========================
Install MongoDB on Windows
==========================

.. default-domain:: mongodb

Synopsis
--------

This tutorial outlines the basic installation process for
:term:`MongoDB` on Microsoft Windows systems. This
tutorial provides a basic method for installing and running the
MongoDB server (i.e. ":program:`mongod.exe`") and associated tools.

Downloading MongoDB for Windows
-------------------------------

Download the latest production release of MongoDB. The various MongoDB
binaries can be downloaded `here. <http://www.mongodb.org/downloads>`_

.. note::

   Ensure you download the proper version of MongoDB for your version
   of Windows. The 64-bit version of MongoDB will not work in 32-bit
   version of Windows. You can find the version of your Windows system
   using this `guide. <http://windows.microsoft.com/en-US/windows7/find-out-32-or-64-bit>`_

   The 32-bit versions of MongoDB are suitable for testing and
   evaluation purposes but cannot use databases larger than 3GB.

Once the download is complete, use Windows Explorer to find the
MongoDB download file (typically in the default Downloads directory)
and extract the archive to ``C:\`` by right clicking on the
archive and selecting "Extract All" and browsing to: ``C:\``

.. note::

   The folder name will be in the format:

   mongodb-win32-ARCH-VERSION

   where ARCH is the 32-bit/64-bit version of MongoDB and VERSION is
   the version of MongoDB

Start the Command Prompt (Start Menu -> All Programs -> Accessories ->
Command Prompt) by right clicking and selecting 'Run as
Administrator' from the popup menu. In the Command Prompt, run commands:

.. code-block:: sh
   
   cd \
   rename C:\mongodb-win32-* C:\mongodb

.. note:: 
   
   MongoDB is self-contained and do not have any other system
   dependencies. You can run MongoDB from any folder you choose. One
   may install MongoDB in a different directory such as:
   ``D:\test\mongodb``

Creating data Folder
~~~~~~~~~~~~~~~~~~~~

By default, MongoDB uses ``C:\data\db`` to write and store data
files. Create this folder in C:\ in the Command Prompt using the
following commands:

.. code-block:: sh

   mkdir data
   mkdir data\db

If this folder does not exist, MongoDB will not start. 

.. note::
   
   You can specify an alternate path for data\db folder using the
   :option:`--dbpath <mongod --dbpath>` option to
   :program:`mongod`. To start mongod.exe with another file path, use
   the command: ``C:\mongodb\bin\mongod.exe --dbpath
   d:\test\mongodb\data``


Starting MongoDB
~~~~~~~~~~~~~~~~

To start MongoDB, execute from the Command Prompt:

.. code-block:: sh

   C:\mongodb\bin\mongod.exe

This will start the main MongoDB database process. To connect using
the ``mongo.exe`` open another Command Prompt and execute:

.. code-block:: sh

   C:\mongodb\bin\mongo.exe

.. note::

   Executing command: ``start C:\mongodb\bin\mongo.exe`` will
   automatically start MongoDB in a separate Command Prompt.

This will connect to the database running on the localhost interface
and port 27017 by default. At the :program:`mongo.exe` prompt, issue
the following two commands to insert a record in the "test"
:term:`collection` of the (default) "test" database and then retrieve
that record:

.. code-block:: javascript

   > db.test.save( { a: 1 } )
   > db.test.find()

Additional MongoDB guides to help you get started:

   .. Documentation for getting started with MongoDB:

   .. - :doc:`/getting-started`
   .. STUB - :doc:`/tutorial/insert-test-data-into-a-mongodb-database`



.. how do we use this??
:program:`mongod.exe`
:program:`mongo.exe`
:program:`mongos.exe`

Production Use
~~~~~~~~~~~~~~

If you're deploying MongoDB on a Windows server for production use,
you may want to use the [whatever you call it]. 

Do this...

.. code-block:: sh

TODO simple service example. 



