# Aggregation Redirection. Each YAML document has the following schema:
#
#    redirect-path: "the path to the redirected URL"
#    url-base: "the path to the new location for the resource"
#    type: "currently this script only supports 'redirect', and
#          ignores all documents with another type."
#    code: "the HTTP redirect code. Raises exception if not 301, 302, 303."
#    outputs: "a list of branches/paths beneath http://docs.mongodb.org/ to
#             place this redirect. 'all', 'before-<branch>' and
#             'after-<branch>' have special meaning. output that
#
# 'outputs' possibility:
#
# - 'all': generates redirects for all published branches, but *not* 'manual'.
#
# - '<branch>': generates redirects for a specific branch.
#
# - 'before-<branch>': generates redirects for all branches that
#   reflect releases previous to the specified branch. (Inclusive.)
#
# - 'after-<branch>': generates redirects for all branches that
#   reflect releases after the specified branch. (Non-inclusive.)
#
# All paths are relative to the ``source/`` directory.
#
########################################################################

redirect-path: '/applications/map-reduce'
url-base: '/core/map-reduce'
type: 'redirect'
code: 301
outputs:
  - 'manual'
  - 'after-v2.2'
---
redirect-path: '/core/map-reduce'
url-base: '/applications/map-reduce'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/tutorial/map-reduce-examples'
url-base: '/applications/map-reduce'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/map-reduce-sharded-collections'
url-base: '/applications/map-reduce'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/tutorial/perform-incremental-map-reduce'
url-base: '/applications/map-reduce'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/tutorial/troubleshoot-map-function'
url-base: '/applications/map-reduce'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/tutorial/troubleshoot-reduce-function'
url-base: '/applications/map-reduce'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/map-reduce-concurrency'
url-base: '/applications/map-reduce'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/applications/aggregation'
url-base: '/core/aggregation'
type: 'redirect'
code: 301
outputs:
  - 'manual'
  - 'after-v2.2'
---
redirect-path: '/core/aggregation'
url-base: '/applications/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-arithmetic'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-boolean'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-comparison'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-conditional'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-date'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-group'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-pipeline'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operator-string'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/concat'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/geoNear'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/millisecond'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation-commands-comparison'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/operators'
url-base: '/reference/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation/interface'
url-base: '/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/command/nav-aggregation'
url-base: '/reference/command'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/method/nav-aggregation'
url-base: '/reference/method'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/aggregation'
url-base: '/reference'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/tutorial/aggregation-zip-code-data-set'
url-base: '/tutorial/aggregation-examples'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/tutorial/aggregation-with-user-preference-data'
url-base: '/tutorial/aggregation-examples'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/aggregation-pipeline'
url-base: '/applications/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/aggregation-mechanics'
url-base: '/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/aggregation-pipeline-optimization-phase'
url-base: '/applications/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/aggregation-pipeline-limits'
url-base: '/applications/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/aggregation-pipeline-sharded-collections'
url-base: '/applications/aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/core/aggregation-introduction'
url-base: '/aggregation/'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
---
redirect-path: '/reference/simple-aggregation'
url-base: '/reference/single-purpose-aggregation'
type: 'redirect'
code: 301
outputs:
  - 'after-v2.2'
  - 'manual'
---
redirect-path: '/reference/single-purpose-aggregation'
url-base: '/reference/simple-aggregation'
type: 'redirect'
code: 303
outputs:
  - 'v2.2'
...